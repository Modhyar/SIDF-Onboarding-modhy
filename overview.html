<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SIDF Overview | Onboarding Portal</title>
<link rel="stylesheet" href="styles.css" />
<style>
   .content-wrap{
     max-width: 900px;
     margin: 0 auto;
   }
   .media-card{
     border-radius: 16px;
     overflow: hidden;
     border: 1px solid var(--border);
     background: #000;
   }
   .img-card{
     border-radius: 16px;
     overflow: hidden;
     border: 1px solid var(--border);
     background: #fff;
     margin-top: 12px;
   }
   .complete-pill{
     display:none;
     align-items:center;
     gap:8px;
     padding: 8px 12px;
     border-radius: 999px;
     border: 1px solid rgba(11,107,79,.22);
     background: rgba(230,244,239,.8);
     color:#0b3e30;
     font-weight: 950;
     font-size: 12px;
     margin-left: auto;
   }
   .pill-dot{
     width: 10px;
     height: 10px;
     border-radius: 999px;
     background: linear-gradient(135deg, var(--sidf-teal), var(--sidf-green));
   }
   .progress-row{
     display:flex;
     justify-content:space-between;
     align-items:center;
     gap:10px;
     margin-top: 10px;
   }
   .bar{
     margin-top: 8px;
     height: 10px;
     border-radius: 999px;
     overflow:hidden;
     background: rgba(0,0,0,.08);
     border: 1px solid var(--border);
   }
   .bar > div{
     height:100%;
     width:0%;
     background: linear-gradient(135deg, var(--sidf-teal), var(--sidf-green));
   }
</style>
</head>
<script>window.CURRENT_PAGE_ID = "Overview";</script>
<script>
 // 1) Update these filenames to match your project
 const STEPS = [
   { id:"welcome",   title:"Welcome",            sub:"Mandatory video",   href:"index.html",     key:"sidf_done_welcome" },
   { id:"overview",  title:"SIDF Overview",      sub:"Intro + video",     href:"overview.html",  key:"sidf_done_overview" },
   { id:"structure", title:"SIDF Structure",     sub:"Org charts",        href:"structure.html", key:"sidf_done_structure" },
   { id:"role",      title:"RM Role",            sub:"Timeline",          href:"role.html",      key:"sidf_done_role" },
   { id:"lifecycle", title:"Project Lifecycle",  sub:"Process",           href:"lifecycle.html", key:"sidf_done_lifecycle" },
   { id:"financing", title:"Types of Financing", sub:"WC / PF",           href:"financing.html", key:"sidf_done_financing" },
   { id:"modeling",  title:"Financial Modeling", sub:"Requirements",      href:"modeling.html",  key:"sidf_done_modeling" },
   { id:"final",     title:"Final Tips",         sub:"Wrap up",           href:"final.html",     key:"sidf_done_final" }
 ];
 // 2) Set CURRENT_PAGE_ID on each page (example below)
 //    You MUST change this value per page.
 const CURRENT_PAGE_ID = window.CURRENT_PAGE_ID || ""; // set below
 function isDone(key){
   return localStorage.getItem(key) === "true";
 }
 function setDone(key){
   localStorage.setItem(key, "true");
 }
 function renderStepper(){
   const el = document.getElementById("stepper");
   if(!el) return;
   el.innerHTML = "";
   STEPS.forEach((s, idx) => {
     const a = document.createElement("a");
     a.className = "step";
     a.href = s.href;
     const done = isDone(s.key);
     if(done) a.classList.add("completed");
     if(s.id === CURRENT_PAGE_ID) a.classList.add("current");
     a.innerHTML = `
<div class="step-dot">${done ? "✓" : (idx+1)}</div>
<div>
<div class="step-title">${s.title}</div>
<div class="step-sub">${s.sub}</div>
</div>
     `;
     el.appendChild(a);
   });
 }
 // Helper for pages with mandatory video:
 // Call markStepComplete("sidf_done_overview") when video ends.
 window.markStepComplete = function(key){
   setDone(key);
   renderStepper();
 };
 renderStepper();
</script>

<body>
<div class="bg"></div>
<main class="shell">
<header class="topbar">
<div class="brand">
<img src="sidf-logo.png" class="sidf-logo" alt="SIDF Logo">
<div class="brand-text">
<div class="brand-title">SIDF</div>
<div class="brand-sub">Relationship Management · Credit</div>
</div>
</div>
<div class="chip">Step 1 · SIDF Overview</div>
<!-- Progress Timeline -->
<nav class="stepper" id="stepper"></nav>
<!-- appears only after completion -->
<div id="completePill" class="complete-pill">
<span class="pill-dot"></span>
       Completed ✓
</div>
</header>
<section class="card">
<h1>SIDF Overview</h1>
<div class="note">
       SIDF offers a diverse range of short, medium, and long-term financial solutions, specially designed to meet the needs of the industrial projects. These solutions include working capital financing, supply chain financing, project financing, acquisition financing, and multipurpose financing. They aim to support the growth of your project, enhance operational efficiency, and ensure business continuity with flexibility and effectiveness.
</div>
<div class="content-wrap" style="margin-top:14px;">
<!-- VIDEO (same width as image below) -->
<div class="media-card">
<video
           id="overviewVideo"
           width="100%"
           controls
           controlsList="nodownload noplaybackrate"
           disablePictureInPicture
           playsinline
           preload="metadata"
           style="background:#000;"
           oncontextmenu="return false;"
>
<source src="sidf-overview-video.mp4" type="video/mp4">
           Your browser does not support the video tag.
</video>
</div>
<!-- completion tracker -->
<div style="margin-top:10px;">
<div class="progress-row">
<div class="muted" style="font-weight:800;">Video completion</div>
<div id="progressText" class="muted" style="font-weight:900;">0%</div>
</div>
<div class="bar">
<div id="progressBar"></div>
</div>
<p id="watchNote" class="muted" style="margin-top:8px;">
           Please watch the full video to proceed. Skipping ahead is disabled.
</p>
</div>
<!-- IMAGE (same width as video above) -->
<div class="img-card">
<!-- CHANGE THIS filename if yours is different -->
<img src="overview-image.png" alt="SIDF overview" style="width:100%; display:block;">
</div>
</div>
<div class="divider"></div>
<div class="actions spread">
<a class="btn ghost" href="index.html">Back</a>
<!-- locked until video ends -->
<a id="continueBtn" class="btn primary" href="#"
          style="pointer-events:none; opacity:0.5;">
         Continue
</a>
</div>
</section>
<footer class="footer">
<span>Internal use only</span>
<span>SIDF Overview</span>
</footer>
</main>
<script>

  const video = document.getElementById("overviewVideo");

  const btn = document.getElementById("continueBtn");

  const bar = document.getElementById("progressBar");

  const txt = document.getElementById("progressText");

  const note = document.getElementById("watchNote");

  const pill = document.getElementById("completePill");

  const STORAGE_KEY = "sidf_overview_completed";

  let maxWatched = 0;

  // ---- Restore completion state if already completed ----

  if (localStorage.getItem(STORAGE_KEY) === "true") {

    bar.style.width = "100%";

    txt.textContent = "100%";

    pill.style.display = "inline-flex";

    btn.style.pointerEvents = "auto";

    btn.style.opacity = "1";

    btn.href = "structure.html"; // adjust if needed

    note.textContent = "Completed ✓";

  }

  function updateProgress() {

    const dur = video.duration || 0;

    if (!dur) return;

    if (!video.paused && video.currentTime > maxWatched) {

      maxWatched = video.currentTime;

    }

    const pct = Math.min(100, Math.floor((maxWatched / dur) * 100));

    bar.style.width = pct + "%";

    txt.textContent = pct + "%";

  }

  // Prevent skipping forward unless already completed

  video.addEventListener("seeking", () => {

    if (

      localStorage.getItem(STORAGE_KEY) !== "true" &&

      video.currentTime > maxWatched + 0.25

    ) {

      video.currentTime = maxWatched;

    }

  });

  video.addEventListener("timeupdate", updateProgress);

  video.addEventListener("play", updateProgress);

  video.addEventListener("loadedmetadata", updateProgress);

  // Block keyboard skipping

  video.addEventListener("keydown", (e) => {

    const keys = ["ArrowRight", "ArrowLeft", "End", "Home", "l", "j"];

    if (keys.includes(e.key)) e.preventDefault();

  });

  // ---- On completion ----

  video.addEventListener("ended", () => {
markStepComplete("sidf_done_overview");

    bar.style.width = "100%";

    txt.textContent = "100%";

    pill.style.display = "inline-flex";

    note.textContent = "Completed ✓";

    btn.style.pointerEvents = "auto";

    btn.style.opacity = "1";

    btn.href = "structure.html"; // adjust if needed

    // Persist completion

    localStorage.setItem(STORAGE_KEY, "true");

  });
</script>
</body>
</html>