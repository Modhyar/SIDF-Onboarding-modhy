<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SIDF RM Credit Onboarding Portal</title>
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="bg"></div>
<main class="shell">
<header class="topbar">
<div class="brand">
<img src="sidf-logo.png" class="sidf-logo" alt="SIDF Logo">
<div class="brand-text">
<div class="brand-title">SIDF</div>
<div class="brand-sub">Relationship Management · Credit</div>
</div>
</div>
<div class="chip">Step 0 · Welcome</div>
</header>
<section class="card">
<h1>Welcome to the Saudi Industrial Development Fund</h1>
<p class="muted" style="margin-top:8px;">

        This portal helps Co-op students and new RM (Credit) team members get started.
</p>
<!-- Mandatory video -->
<div style="margin-top:16px;">
<div style="border-radius:16px; overflow:hidden; border:1px solid var(--border); background:#000;">
<video

            id="welcomeVideo"

            width="100%"

            controls

            controlsList="nodownload noplaybackrate"

            disablePictureInPicture

            playsinline

            preload="metadata"

            style="background:#000;"

            oncontextmenu="return false;"
>
<source src="welcome-video.mp4" type="video/mp4">

            Your browser does not support the video tag.
</video>
</div>
<!-- Progress tracker -->
<div style="margin-top:10px;">
<div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
<div class="muted" style="font-weight:800;">Completion</div>
<div id="progressText" class="muted" style="font-weight:900;">0%</div>
</div>
<div style="margin-top:8px; height:10px; border-radius:999px; overflow:hidden; background:rgba(0,0,0,.08); border:1px solid var(--border);">
<div id="progressBar" style="height:100%; width:0%; background:linear-gradient(135deg, var(--sidf-teal), var(--sidf-green));"></div>
</div>
<p id="watchNote" class="muted" style="margin-top:8px;">

            Please watch the full introduction video to proceed. Skipping ahead is disabled.
</p>
</div>
</div>
<div class="divider"></div>
<div class="actions spread">
<a class="btn ghost" href="#" style="pointer-events:none; opacity:0.4;">Back</a>
<!-- Locked until video ends -->
<a id="continueBtn" class="btn primary" href="#"

           style="pointer-events:none; opacity:0.5;">

          Enter Portal
</a>
</div>
</section>
<footer class="footer">
<span>Internal use only</span>
<span>SIDF RM Credit Onboarding</span>
</footer>
</main>
<script>

    const video = document.getElementById("welcomeVideo");

    const btn = document.getElementById("continueBtn");

    const bar = document.getElementById("progressBar");

    const txt = document.getElementById("progressText");

    const note = document.getElementById("watchNote");

    let maxWatched = 0;

    function updateProgress() {

      const dur = video.duration || 0;

      if (!dur) return;

      // Track furthest watched point (only grows)

      if (!video.paused && video.currentTime > maxWatched) {

        maxWatched = video.currentTime;

      }

      const pct = Math.min(100, Math.floor((maxWatched / dur) * 100));

      bar.style.width = pct + "%";

      txt.textContent = pct + "%";

    }

    // Prevent seeking forward beyond maxWatched

    video.addEventListener("seeking", () => {

      if (video.currentTime > maxWatched + 0.25) {

        video.currentTime = maxWatched;

      }

    });

    // Update progress frequently

    video.addEventListener("timeupdate", updateProgress);

    video.addEventListener("play", updateProgress);

    video.addEventListener("loadedmetadata", updateProgress);

    // Block common keyboard skipping when video is focused

    video.addEventListener("keydown", (e) => {

      const keys = ["ArrowRight", "ArrowLeft", "End", "Home", "l", "j"];

      if (keys.includes(e.key)) e.preventDefault();

    });

    // Unlock continue only when video ends

    video.addEventListener("ended", () => {

      updateProgress();

      bar.style.width = "100%";

      txt.textContent = "100%";

      btn.style.pointerEvents = "auto";

      btn.style.opacity = "1";

      btn.href = "overview.html"; // next page

      note.textContent = "Completed ✅ You can continue.";

    });
</script>
</body>
</html>
 